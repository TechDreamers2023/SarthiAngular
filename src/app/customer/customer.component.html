<div class="row">
  <div class="col-xl-4 col-md-6 {{showLocationFilter ? '': 'd-none'}}">
    <div class="card bg-secondary-dark dashnum-card text-white overflow-hidden">
      <span class="round small"></span>
      <span class="round big"></span>
      <div class="card-body">
        <div class="row">
          <div class="col">
            <div class="input-area">
              <h2>I want to Pick From </h2>
              <app-place-auto-complete (placeChanged)="fromvalue = $event">
              </app-place-auto-complete>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xl-4 col-md-6 {{showLocationFilter ? '': 'd-none'}}">
    <div class="card bg-secondary-dark dashnum-card text-white overflow-hidden">
      <span class="round small"></span>
      <span class="round big"></span>
      <div class="card-body">
        <div class="row">
          <div class="col">
            <div class="input-area">
              <h2>To Drop </h2>
              <app-place-auto-complete (placeChanged)="tovalue = $event">
              </app-place-auto-complete>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-4 col-md-6 {{showLocationFilter ? 'd-none': ''}}">
    <div class="card bg-secondary-dark dashnum-card text-white overflow-hidden">
      <span class="round small"></span>
      <span class="round big"></span>
      <div class="card-body">
        <div class="row">
          <div class="col">
            <div class="avtar avtar-lg">
              <i class="text-white ti ti-credit-card"></i>
            </div>
          </div>
          <div class="col-auto">
            <ul ngbNav class="nav-tabs nav-pills" #nav="ngbNav">
              <li class="nav-item" [ngbNavItem]="1">
                <ng-template ngbNavContent>
                  <div class="row">
                    <div class="col-6">
                      <span *ngIf="stageId > 1" class="text-white d-block f-34 f-w-500 my-2">{{vendorModel.distanceKM}}
                        KM<i class="ti ti-arrow-up-right-circle opacity-50"></i></span>
                      <p class="mb-0">Distance</p>
                    </div>
                    <div class="col-6">
                      <div id="tab-chart-1"></div>
                    </div>
                  </div>
                </ng-template>
              </li>
            </ul>
          </div>
        </div>
        <div [ngbNavOutlet]="nav"> </div>
      </div>
    </div>
  </div>
  <div class="col-xl-4 col-md-6 {{showLocationFilter ? 'd-none': ''}}">
    <div class="card bg-primary-dark dashnum-card text-white overflow-hidden">
      <span class="round small"></span>
      <span class="round big"></span>
      <div class="card-body">
        <div class="row">
          <div class="col">
            <div class="avtar avtar-lg">
              <i class="text-white ti ti-credit-card"></i>
            </div>
          </div>
          <div class="col-auto">
            <ul ngbNav class="nav-tabs nav-pills" #nav1="ngbNav">
              <li class="nav-item" [ngbNavItem]="2">
                <ng-template ngbNavContent>
                  <div class="row">
                    <div class="col-6">
                      <span *ngIf="stageId > 1"
                        class="text-white d-block f-34 f-w-500 my-2">{{vendorModel.durationInMins}}<i
                          class="ti ti-arrow-up-right-circle opacity-50"></i></span>
                      <p class="mb-0">Durations</p>
                    </div>
                    <div class="col-6">
                      <div id="tab-chart-1"></div>
                    </div>
                  </div>
                </ng-template>
              </li>
            </ul>
          </div>
        </div>
        <div [ngbNavOutlet]="nav1"> </div>
      </div>
    </div>
  </div>

  <div class="col-xl-4 col-md-12">
    <div class="card dashnum-card dashnum-card-small overflow-hidden" *ngIf="stageId < 4">
      <span class="round bg-warning small"></span>
      <span class="round bg-warning big"></span>
      <div class="card-body p-3">
        <div class="d-flex align-items-center">
          <div class="avtar avtar-lg bg-light-warning">
            <i class="text-warning ti ti-credit-card"></i>
          </div>
          <div class="ms-2">
            <h4 class="mb-1">Pick Up <i class="ti ti-arrow-up-right-circle opacity-50"></i></h4>
            <p *ngIf="stageId == 0 " class="mb-0 opacity-50 text-sm">No Information Available</p>
            <p *ngIf="stageId > 1" class="mb-0 opacity-50 text-sm">{{vendorModel.pickupLocation.address}}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="card dashnum-card dashnum-card-small overflow-hidden">
      <span class="round bg-warning small"></span>
      <span class="round bg-warning big"></span>
      <div class="card-body p-3">
        <div class="d-flex align-items-center">
          <div class="avtar avtar-lg bg-light-warning">
            <i class="text-warning ti ti-chevron-up"></i>
          </div>
          <div class="ms-2">
            <h4 class="mb-1">Drop Off <i class="ti ti-arrow-up-right-circle opacity-50"></i></h4>
            <p *ngIf="stageId == 0 " class="mb-0 opacity-50 text-sm">No Information Available</p>
            <p *ngIf="stageId > 1 " class="mb-0 opacity-50 text-sm">{{vendorModel.dropOffLocation.address}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-8 col-md-12">
    <div class="card">
      <div class="card-body">
        <app-map-display (triggerRequestChanged)=ontriggerRequestChanged($event) [from]="fromvalue" [to]="tovalue"
          [stageId]="stageId"></app-map-display>
      </div>
    </div>
  </div>
  <div class="col-xl-4 col-md-12" *ngIf="stageId == 2">
    <div class="card">
      <div class="card-body">
        <div class="row mb-3 align-items-center">
          <div class="col">
            <h4>Available Venders</h4>
          </div>
          <div class="col-auto"> </div>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item px-0" *ngFor="let list of vendorModel.vendorDetails">
            <div class="row align-items-start">
              <div class="col">
                <h5 class="mb-0">{{ list.firstName }} {{ list.lastName }}</h5>
                <small class="text-success">{{ list.distanceKM }} Km ~ {{ list.durationInMins }} </small>
              </div>
              <div class="col-auto">
                <h4 class="mb-0">
                  â‚¹ {{ list.totalAmount}}
                </h4>
              </div>
            </div>
            <div class="row align-items-start">
              <div class="col">
                <button *ngIf="list.isCustomerAccepted == null" type="button" class="btn btn-success float-right"
                  (click)="Accept(this.customerId,list.quoationDetailId)">Accept</button>
                <button *ngIf="list.isCustomerAccepted == true" type="button" style="cursor: no-drop;"
                  class="btn btn-warning float-right">Pending</button>
                <button *ngIf="list.isRejectedByVendor == true" type="button" style="cursor: no-drop;"
                  class="btn btn-warning float-right">Pending</button>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="col-xl-4 col-md-12" *ngIf="stageId > 2">
    <div class="card">
      <div class="card-body">
        <div class="row mb-3 align-items-center">
          <div class="col">
            <h4>Request Details - <b class="requestNumber">{{vendorModel.requestNumber}}</b></h4>
          </div>
          <div class="col-auto"> </div>
        </div>
        <hr />
        <ul class="list-group list-group-flush">
          <li class="list-group-item px-0" *ngFor="let list of vendorModel.vendorDetails">
            <div class="row align-items-start">
              <div class="col-sm-6 com-md-6 col-lg-6 mb-2">
                <span><small>Vendor Name</small></span>
                <h4>{{list.firstName + ' ' + list.lastName}}</h4>
              </div>
              <div class="col-sm-6 com-md-6 col-lg-6 mb-2">
                <span><small>Contact No</small></span>
                <h4>{{list.contactNo}}</h4>
              </div>
              <div class="col-sm-6 com-md-6 col-lg-8 mb-2">
                <span><small>Vehicle Number</small></span>
                <h4>{{list.vehicleNumber}}</h4>
              </div>
              <hr />
              <div class="col">
                <div class="float-left">
                  <h3>Total Amount</h3>
                </div>
                <div class="float-right">
                  <h3><svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor"
                      class="bi bi-currency-rupee" viewBox="0 0 16 16">
                      <path
                        d="M4 3.06h2.726c1.22 0 2.12.575 2.325 1.724H4v1.051h5.051C8.855 7.001 8 7.558 6.788 7.558H4v1.317L8.437 14h2.11L6.095 8.884h.855c2.316-.018 3.465-1.476 3.688-3.049H12V4.784h-1.345c-.08-.778-.357-1.335-.793-1.732H12V2H4v1.06Z" />
                    </svg> {{list.totalAmount}} </h3>
                </div>
              </div>
            </div>
            <div class="row align-items-start" *ngIf="stageId < 4">
              <div class="col rejectButton">
                <button type="button" class="btn btn-danger"
                  (click)="Accept(this.customerId,list.quoationDetailId)">Cancel Request</button>
              </div>
            </div>
            <div class="row align-items-start" *ngIf="stageId == 6">
              <div class="col rejectButton">
                <button type="button" class="btn btn-success"
                  (click)="Accept(this.customerId,list.quoationDetailId)">Download Invoice</button>
              </div>
            </div>
            <div class="row align-items-start">
              <div class="col">
                <button type="button" class="btn btn-primary float-right" (click)="Accept(list.vendorId)">Accept</button>
            </div>
            </div>
          </li>
          
        </ul>
      </div>
    </div>
  </div>

  <div class="col-xl-8 col-md-8" *ngIf="stageId > 2">
    <div class="card">
      <div class="card-body">
      </div>
    </div>
  </div>
  <div class="col-xl-4 col-md-4" *ngIf="stageId > 2">
    <div class="card latest-update-card">
      <div class="card-header">
        <h5>Track Service Request</h5>
      </div>
      <div class="card-body">
        <div class="latest-update-box p-t-20">
          <div class="row p-b-30 ng-star-inserted" *ngFor="let track of trackServiceModel">
            <div class="col-auto text-end update-meta" style="padding-right: 0;">
              <p style="width: 56px;font-weight: 500;" class="text-muted m-b-0 d-inline-flex me-2">{{track.dateString}}
                {{track.timeString}}</p>
              <i class="bg-success f-w-600 feather icon-check bi bi-check update-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="22px" fill="currentColor"
                  class="bi bi-check" viewBox="0 0 16 16">
                  <path
                    d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z" />
                </svg>
              </i>
            </div>
            <div class="col">
              <h6 style="font-size: 14px;">{{track.stageName}}</h6>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>